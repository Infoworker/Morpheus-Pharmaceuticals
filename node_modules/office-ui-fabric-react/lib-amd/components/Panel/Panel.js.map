{"version":3,"sources":["components/Panel/Panel.tsx"],"names":[],"mappings":"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","file":"components/Panel/Panel.js","sourcesContent":["/* tslint:disable:no-unused-variable */\nimport * as React from 'react';\n/* tslint:enable:no-unused-variable */\n\nimport { BaseComponent } from '../../common/BaseComponent';\nimport { FocusTrapZone } from '../FocusTrapZone/index';\nimport { IPanelProps, PanelType } from './Panel.Props';\nimport { Layer } from '../Layer/Layer';\nimport { Overlay } from '../../Overlay';\nimport { Popup } from '../Popup/index';\nimport { css } from '../../utilities/css';\nimport { getId } from '../../utilities/object';\nimport { getRTL } from '../../utilities/rtl';\nimport './Panel.scss';\n\nexport interface IPanelState {\n  isOpen?: boolean;\n  isAnimatingOpen?: boolean;\n  isAnimatingClose?: boolean;\n  id?: string;\n}\n\nexport class Panel extends BaseComponent<IPanelProps, IPanelState> {\n\n  public static defaultProps: IPanelProps = {\n    isOpen: false,\n    isBlocking: true,\n    hasCloseButton: true,\n    type: PanelType.smallFixedFar,\n  };\n\n  constructor(props: IPanelProps) {\n    super(props);\n\n    this._onPanelClick = this._onPanelClick.bind(this);\n    this._onPanelRef = this._onPanelRef.bind(this);\n\n    this.state = {\n      isOpen: !!props.isOpen,\n      isAnimatingOpen: props.isOpen,\n      isAnimatingClose: false,\n      id: getId('Panel')\n    };\n  }\n\n  public componentDidMount() {\n    if (this.state.isOpen) {\n      this._async.setTimeout(() => {\n        this.setState({\n          isAnimatingOpen: false\n        });\n      }, 2000);\n    }\n  }\n\n  public componentWillReceiveProps(newProps: IPanelProps) {\n    if (newProps.isOpen !== this.state.isOpen) {\n      this.setState({\n        isOpen: newProps.isOpen,\n        isAnimatingOpen: newProps.isOpen ? true : false,\n        isAnimatingClose: newProps.isOpen ? false : true\n      });\n    }\n  }\n\n  public render() {\n    let {\n      children,\n      className = '',\n      type,\n      hasCloseButton,\n      isLightDismiss,\n      isBlocking,\n      headerText,\n      closeButtonAriaLabel,\n      headerClassName = '',\n      elementToFocusOnDismiss,\n      ignoreExternalFocusing,\n      forceFocusInsideTrap,\n      firstFocusableSelector\n    } = this.props;\n    let { isOpen, isAnimatingOpen, isAnimatingClose, id } = this.state;\n    let isLeft = type === PanelType.smallFixedNear ? true : false;\n    let isRTL = getRTL();\n    let isOnRightSide = isRTL ? isLeft : !isLeft;\n    const headerTextId = id + '-headerText';\n\n    let pendingCommandBarContent = '';\n\n    if (!isOpen) {\n      return null;\n    }\n\n    let header;\n    if (headerText) {\n      header = <p className={css('ms-Panel-headerText', headerClassName)} id={headerTextId}>{headerText}</p>;\n    }\n\n    let closeButton;\n    if (hasCloseButton) {\n      closeButton = <button className='ms-Panel-closeButton ms-PanelAction-close' onClick={this._onPanelClick} aria-label={closeButtonAriaLabel} data-is-visible={true}>\n        <i className='ms-Panel-closeIcon ms-Icon ms-Icon--Cancel'></i>\n      </button>;\n    }\n\n    let overlay;\n    if (isBlocking) {\n      overlay = <Overlay\n        isDarkThemed={false}\n        onClick={isLightDismiss ? this._onPanelClick : null}\n        />;\n    }\n\n    return (\n      <Layer>\n        <Popup\n          role='dialog'\n          ariaLabelledBy={headerText ? headerTextId : undefined}\n          onDismiss={this.props.onDismiss}>\n          <div\n            ref={this._onPanelRef}\n            className={\n              css('ms-Panel', className, {\n                'ms-Panel--openLeft': !isOnRightSide,  // because the RTL animations are not being used, we need to set a class\n                'ms-Panel--openRight': isOnRightSide,  // because the RTL animations are not being used, we need to set a class\n                'is-open': isOpen,\n                'ms-Panel-animateIn': isAnimatingOpen,\n                'ms-Panel-animateOut': isAnimatingClose,\n                'ms-Panel--smFluid': type === PanelType.smallFluid,\n                'ms-Panel--smLeft': type === PanelType.smallFixedNear,\n                'ms-Panel--sm': type === PanelType.smallFixedFar,\n                'ms-Panel--md': type === PanelType.medium,\n                'ms-Panel--lg': type === PanelType.large || type === PanelType.largeFixed,\n                'ms-Panel--fixed': type === PanelType.largeFixed,\n                'ms-Panel--xl': type === PanelType.extraLarge,\n              })\n            }\n            >\n            <Overlay\n              isDarkThemed={false}\n              onClick={isLightDismiss ? this._onPanelClick : null}\n              />\n            <FocusTrapZone\n              className='ms-Panel-main'\n              elementToFocusOnDismiss={elementToFocusOnDismiss}\n              isClickableOutsideFocusTrap={isLightDismiss}\n              ignoreExternalFocusing={ignoreExternalFocusing}\n              forceFocusInsideTrap={forceFocusInsideTrap}\n              firstFocusableSelector={firstFocusableSelector}\n              >\n              <div className='ms-Panel-commands' data-is-visible={true} >\n                {pendingCommandBarContent}\n                {closeButton}\n              </div>\n              <div className='ms-Panel-contentInner'>\n                {header}\n                <div className='ms-Panel-content'>\n                  {children}\n                </div>\n              </div>\n            </FocusTrapZone>\n          </div>\n        </Popup>\n      </Layer>\n    );\n  }\n\n  public dismiss() {\n    if (this.state.isOpen) {\n      this.setState({\n        isAnimatingOpen: false,\n        isAnimatingClose: true\n      });\n    }\n  }\n\n  private _onPanelClick() {\n    this.dismiss();\n  }\n\n  private _onPanelRef(ref: HTMLDivElement) {\n    if (ref) {\n      this._events.on(ref, 'animationend', this._onAnimationEnd);\n    } else {\n      this._events.off();\n    }\n  }\n\n  private _onAnimationEnd(ev: AnimationEvent) {\n    if (ev.animationName.indexOf('In') > -1) {\n      this.setState({\n        isOpen: true,\n        isAnimatingOpen: false\n      });\n    }\n    if (ev.animationName.indexOf('Out') > -1) {\n      this.setState({\n        isOpen: false,\n        isAnimatingClose: false\n      });\n\n      if (this.props.onDismiss) {\n        this.props.onDismiss();\n      }\n    }\n  }\n}\n"],"sourceRoot":"../../../src"}