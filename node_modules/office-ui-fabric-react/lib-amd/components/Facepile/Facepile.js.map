{"version":3,"sources":["components/Facepile/Facepile.tsx"],"names":[],"mappings":"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","file":"components/Facepile/Facepile.js","sourcesContent":["import * as React from 'react';\nimport { css } from '../../utilities/css';\nimport {\n  IFacepileProps,\n  IFacepilePersona\n} from './Facepile.Props';\nimport {\n  Persona,\n  PersonaSize\n} from '../../Persona';\nimport './Facepile.scss';\nimport { getNativeProps, buttonProperties, divProperties } from '../../utilities/properties';\n\nexport class Facepile extends React.Component<IFacepileProps, {}> {\n  public static defaultProps: IFacepileProps = {\n    maxDisplayablePersonas: 5,\n    personas: []\n  };\n\n  private numPersonasToShow: number;\n\n  public render(): JSX.Element {\n    this.numPersonasToShow = this._calulateNumPersonasToShow();\n    let personalDetailsHidden: boolean = this.props.personas.length > 1;\n    return (\n      <div className='ms-Facepile'>\n        <div className='ms-Facepile-members'>\n          {this.props.showAddButton ? this._getAddNewElement() : null}\n          {\n            this._getPersonasToDisplay().map((persona: IFacepilePersona, index: number) => {\n              const personaControl: JSX.Element = this._getPersonaControl(persona);\n              return persona.onClick ?\n                this._getElementWithOnClickEvent(personaControl, persona, index) :\n                this._getElementWithoutOnClickEvent(personaControl, persona, index);\n            })\n          }\n          { this.props.overflowButtonProps ? this._getOverflowElement() : null }\n          { this.props.chevronButtonProps && personalDetailsHidden ? this._getChevronElement() : null }\n        </div>\n      </div>\n    );\n  }\n\n  private _getPersonasToDisplay(): IFacepilePersona[] {\n    let personasToShow: IFacepilePersona[] = this.props.personas.slice(0, this.numPersonasToShow);\n    return personasToShow;\n  }\n\n  private _getPersonasNotToDisplay(): IFacepilePersona[] {\n    let personasToShow: IFacepilePersona[] = this.props.personas.slice(this.numPersonasToShow);\n    return personasToShow;\n  }\n\n  private _calulateNumPersonasToShow(): number {\n    let maxShownPersonas: number = this.props.maxDisplayablePersonas != null ? this.props.maxDisplayablePersonas : Facepile.defaultProps.maxDisplayablePersonas;\n    return this.props.personas.length < maxShownPersonas ? this.props.personas.length : maxShownPersonas;\n  }\n\n  private _getPersonaControl(persona: IFacepilePersona): JSX.Element {\n    let personalDetailsHidden: boolean = this.props.personas.length > 1;\n    return  <Persona\n              imageInitials={ persona.imageInitials }\n              imageUrl={ persona.imageUrl }\n              initialsColor={ persona.initialsColor }\n              primaryText={ persona.personaName }\n              size={ PersonaSize.extraSmall }\n              hidePersonaDetails={ personalDetailsHidden } />;\n  }\n\n  private _getElementWithOnClickEvent(personaControl: JSX.Element, persona: IFacepilePersona, index: number): JSX.Element {\n    return  <button\n              { ...getNativeProps(persona, buttonProperties) }\n              className='ms-Facepile-itemBtn ms-Facepile-itemBtn--member'\n              title={ persona.personaName }\n              key={ (!!persona.imageUrl ? 'i' : '') + index }\n              onClick={ this._onPersonaClick.bind(this, persona) }\n              onMouseMove={ this._onPersonaMouseMove.bind(this, persona) }\n              onMouseOut={ this._onPersonaMouseOut.bind(this, persona) }\n              >\n              { personaControl }\n            </button>;\n  }\n\n  private _getElementWithoutOnClickEvent(personaControl: JSX.Element, persona: IFacepilePersona, index: number): JSX.Element {\n    return  <div\n              { ...getNativeProps(persona, divProperties) }\n              className='ms-Facepile-itemBtn ms-Facepile-itemBtn--member'\n              title={ persona.personaName }\n              key={ (!!persona.imageUrl ? 'i' : '') + index }\n              onMouseMove={ this._onPersonaMouseMove.bind(this, persona) }\n              onMouseOut={ this._onPersonaMouseOut.bind(this, persona) }\n              >\n              { personaControl }\n            </div>;\n  }\n\n  private _getOverflowElement(): JSX.Element {\n    let numPersonasNotPictured: number = this.props.personas.length - this.numPersonasToShow;\n    let hasPersonasNotPictured: boolean = numPersonasNotPictured > 0;\n    if (!this.props.overflowButtonProps || !hasPersonasNotPictured) { return null; }\n\n    return  <button { ...getNativeProps(this.props.overflowButtonProps, buttonProperties) }\n              className={ css('ms-Facepile-overflowBtn', 'ms-Facepile-itemBtn', 'ms-Persona-initials') }\n              title={ this._getPersonasNotToDisplay().map((persona: IFacepilePersona, index: number) => {\n                return persona.personaName;\n              }).join(', ') }>\n              {'+' + numPersonasNotPictured}\n            </button>;\n  }\n\n  private _getAddNewElement(): JSX.Element {\n    return  <button { ...getNativeProps(this.props.addButtonProps, buttonProperties) } className={css('ms-Facepile-addBtn', 'ms-Facepile-itemBtn', 'ms-Persona-initials')}>\n              <i className='ms-Icon msIcon ms-Icon--AddFriend' aria-hidden='true'></i>\n            </button>;\n  }\n\n  private _getChevronElement(): JSX.Element {\n    return  <button { ...getNativeProps(this.props.chevronButtonProps, buttonProperties) } className={css('ms-Facepile-chevronBtn', 'ms-Facepile-itemBtn')}>\n              <i className='ms-Icon msIcon ms-Icon--ChevronDown' aria-hidden='true'></i>\n            </button>;\n  }\n\n  private _onPersonaClick(persona: IFacepilePersona, ev?: React.MouseEvent<HTMLElement>): void {\n    persona.onClick(ev, persona);\n    ev.preventDefault();\n    ev.stopPropagation();\n  }\n\n  private _onPersonaMouseMove(persona: IFacepilePersona, ev?: React.MouseEvent<HTMLElement>): void {\n    if (!!persona.onMouseMove) {\n      persona.onMouseMove(ev, persona);\n    }\n  }\n\n  private _onPersonaMouseOut(persona: IFacepilePersona, ev?: React.MouseEvent<HTMLElement>): void {\n    if (!!persona.onMouseOut) {\n      persona.onMouseOut(ev, persona);\n    }\n  }\n}\n"],"sourceRoot":"../../../src"}