{"version":3,"sources":["components/Panel/Panel.tsx"],"names":[],"mappings":"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","file":"components/Panel/Panel.js","sourcesContent":["/* tslint:disable:no-unused-variable */\nimport * as React from 'react';\n/* tslint:enable:no-unused-variable */\n\nimport { BaseComponent } from '../../common/BaseComponent';\nimport { FocusTrapZone } from '../FocusTrapZone/index';\nimport { IPanelProps, PanelType } from './Panel.Props';\nimport { Layer } from '../Layer/Layer';\nimport { Overlay } from '../../Overlay';\nimport { Popup } from '../Popup/index';\nimport { css } from '../../utilities/css';\nimport { getId } from '../../utilities/object';\nimport { getRTL } from '../../utilities/rtl';\nimport './Panel.scss';\n\nexport interface IPanelState {\n  isOpen?: boolean;\n  isAnimatingOpen?: boolean;\n  isAnimatingClose?: boolean;\n  id?: string;\n}\n\nexport class Panel extends BaseComponent<IPanelProps, IPanelState> {\n\n  public static defaultProps: IPanelProps = {\n    isOpen: false,\n    isBlocking: true,\n    hasCloseButton: true,\n    type: PanelType.smallFixedFar,\n  };\n\n  constructor(props: IPanelProps) {\n    super(props);\n\n    this._onPanelClick = this._onPanelClick.bind(this);\n    this._onPanelRef = this._onPanelRef.bind(this);\n\n    this.state = {\n      isOpen: !!props.isOpen,\n      isAnimatingOpen: props.isOpen,\n      isAnimatingClose: false,\n      id: getId('Panel')\n    };\n  }\n\n  public componentDidMount() {\n    if (this.state.isOpen) {\n      this._async.setTimeout(() => {\n        this.setState({\n          isAnimatingOpen: false\n        });\n      }, 2000);\n    }\n  }\n\n  public componentWillReceiveProps(newProps: IPanelProps) {\n    if (newProps.isOpen !== this.state.isOpen) {\n      this.setState({\n        isOpen: newProps.isOpen,\n        isAnimatingOpen: newProps.isOpen ? true : false,\n        isAnimatingClose: newProps.isOpen ? false : true\n      });\n    }\n  }\n\n  public render() {\n    let {\n      children,\n      className = '',\n      type,\n      hasCloseButton,\n      isLightDismiss,\n      isBlocking,\n      headerText,\n      closeButtonAriaLabel,\n      headerClassName = '',\n      elementToFocusOnDismiss,\n      ignoreExternalFocusing,\n      forceFocusInsideTrap,\n      firstFocusableSelector\n    } = this.props;\n    let { isOpen, isAnimatingOpen, isAnimatingClose, id } = this.state;\n    let isLeft = type === PanelType.smallFixedNear ? true : false;\n    let isRTL = getRTL();\n    let isOnRightSide = isRTL ? isLeft : !isLeft;\n    const headerTextId = id + '-headerText';\n\n    let pendingCommandBarContent = '';\n\n    if (!isOpen) {\n      return null;\n    }\n\n    let header;\n    if (headerText) {\n      header = <p className={css('ms-Panel-headerText', headerClassName)} id={headerTextId}>{headerText}</p>;\n    }\n\n    let closeButton;\n    if (hasCloseButton) {\n      closeButton = <button className='ms-Panel-closeButton ms-PanelAction-close' onClick={this._onPanelClick} aria-label={closeButtonAriaLabel} data-is-visible={true}>\n        <i className='ms-Panel-closeIcon ms-Icon ms-Icon--Cancel'></i>\n      </button>;\n    }\n\n    let overlay;\n    if (isBlocking) {\n      overlay = <Overlay\n        isDarkThemed={false}\n        onClick={isLightDismiss ? this._onPanelClick : null}\n        />;\n    }\n\n    return (\n      <Layer>\n        <Popup\n          role='dialog'\n          ariaLabelledBy={headerText ? headerTextId : undefined}\n          onDismiss={this.props.onDismiss}>\n          <div\n            ref={this._onPanelRef}\n            className={\n              css('ms-Panel', className, {\n                'ms-Panel--openLeft': !isOnRightSide,  // because the RTL animations are not being used, we need to set a class\n                'ms-Panel--openRight': isOnRightSide,  // because the RTL animations are not being used, we need to set a class\n                'is-open': isOpen,\n                'ms-Panel-animateIn': isAnimatingOpen,\n                'ms-Panel-animateOut': isAnimatingClose,\n                'ms-Panel--smFluid': type === PanelType.smallFluid,\n                'ms-Panel--smLeft': type === PanelType.smallFixedNear,\n                'ms-Panel--sm': type === PanelType.smallFixedFar,\n                'ms-Panel--md': type === PanelType.medium,\n                'ms-Panel--lg': type === PanelType.large || type === PanelType.largeFixed,\n                'ms-Panel--fixed': type === PanelType.largeFixed,\n                'ms-Panel--xl': type === PanelType.extraLarge,\n              })\n            }\n            >\n            <Overlay\n              isDarkThemed={false}\n              onClick={isLightDismiss ? this._onPanelClick : null}\n              />\n            <FocusTrapZone\n              className='ms-Panel-main'\n              elementToFocusOnDismiss={elementToFocusOnDismiss}\n              isClickableOutsideFocusTrap={isLightDismiss}\n              ignoreExternalFocusing={ignoreExternalFocusing}\n              forceFocusInsideTrap={forceFocusInsideTrap}\n              firstFocusableSelector={firstFocusableSelector}\n              >\n              <div className='ms-Panel-commands' data-is-visible={true} >\n                {pendingCommandBarContent}\n                {closeButton}\n              </div>\n              <div className='ms-Panel-contentInner'>\n                {header}\n                <div className='ms-Panel-content'>\n                  {children}\n                </div>\n              </div>\n            </FocusTrapZone>\n          </div>\n        </Popup>\n      </Layer>\n    );\n  }\n\n  public dismiss() {\n    if (this.state.isOpen) {\n      this.setState({\n        isAnimatingOpen: false,\n        isAnimatingClose: true\n      });\n    }\n  }\n\n  private _onPanelClick() {\n    this.dismiss();\n  }\n\n  private _onPanelRef(ref: HTMLDivElement) {\n    if (ref) {\n      this._events.on(ref, 'animationend', this._onAnimationEnd);\n    } else {\n      this._events.off();\n    }\n  }\n\n  private _onAnimationEnd(ev: AnimationEvent) {\n    if (ev.animationName.indexOf('In') > -1) {\n      this.setState({\n        isOpen: true,\n        isAnimatingOpen: false\n      });\n    }\n    if (ev.animationName.indexOf('Out') > -1) {\n      this.setState({\n        isOpen: false,\n        isAnimatingClose: false\n      });\n\n      if (this.props.onDismiss) {\n        this.props.onDismiss();\n      }\n    }\n  }\n}\n"],"sourceRoot":"../../../src"}